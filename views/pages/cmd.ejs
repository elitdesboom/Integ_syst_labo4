<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title><%= title %></title>
    <!-- Bootstrap CDN pour un design élégant (comme dans Partie 4) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <h1 class="mb-4">Formulaire de Commande de Pizza</h1>
    <form action="/submit-order" method="POST" class="needs-validation" novalidate>
        <div class="mb-3">
            <label class="form-label">Sorte de Pizza commandée :</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="pizzaType" value="Hawaïenne" required>
                <label class="form-check-label">Hawaïenne</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="pizzaType" value="All-dressed" required>
                <label class="form-check-label">All-dressed</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="pizzaType" value="Sicilienne" required>
                <label class="form-check-label">Sicilienne</label>
            </div>
            <div class="invalid-feedback">Veuillez choisir une sorte de pizza.</div>
        </div>

        <div class="mb-3">
            <label for="quantity" class="form-label">Quantité (entier entre 1 et 99) :</label>
            <input type="number" class="form-control" id="quantity" name="quantity" min="1" max="99" required>
            <div class="invalid-feedback">La quantité doit être un entier entre 1 et 99.</div>
        </div>

        <div class="mb-3">
            <label for="size" class="form-label">Taille :</label>
            <select class="form-select" id="size" name="size" required>
                <option value="">Choisir...</option>
                <option value="Small">Small</option>
                <option value="Medium">Medium</option>
                <option value="Large">Large</option>
            </select>
            <div class="invalid-feedback">Veuillez choisir une taille.</div>
        </div>

        <div class="mb-3">
            <label class="form-label">Ingrédients supplémentaires :</label><br>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="extras[]" value="Fromage extra">
                <label class="form-check-label">Fromage extra</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="extras[]" value="Pepperoni">
                <label class="form-check-label">Pepperoni</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="extras[]" value="Champignons">
                <label class="form-check-label">Champignons</label>
            </div>
        </div>

        <div class="mb-3">
            <label for="address" class="form-label">Adresse :</label>
            <textarea class="form-control" id="address" name="address" required></textarea>
            <div class="invalid-feedback">Veuillez entrer une adresse.</div>
        </div>

        <div class="mb-3">
            <label for="postalCode" class="form-label">Code Postal (format canadien comme A1A 1A1) :</label>
            <input type="text" class="form-control" id="postalCode" name="postalCode" pattern="^[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTV-Z] ?\d[ABCEGHJ-NPRSTV-Z]\d$" title="Format invalide : doit être comme A1A 1A1 (lettres et chiffres alternés, espace optionnel)." required>
            <div class="invalid-feedback">Code postal invalide (ex. A1A 1A1).</div>
        </div>

        <div class="mb-3">
            <label for="name" class="form-label">Nom :</label>
            <input type="text" class="form-control" id="name" name="name" required>
            <div class="invalid-feedback">Veuillez entrer votre nom.</div>
        </div>

        <div class="mb-3">
            <label for="surname" class="form-label">Prénom :</label>
            <input type="text" class="form-control" id="surname" name="surname" required>
            <div class="invalid-feedback">Veuillez entrer votre prénom.</div>
        </div>

        <div class="mb-3">
            <label for="phone" class="form-label">Numéro de téléphone (seulement chiffres, -, (, )) :</label>
            <input type="text" class="form-control" id="phone" name="phone" pattern="^[\d\-()]+$" title="Format invalide : seulement chiffres, tirets et parenthèses (ex. (123)-456-7890)." required>
            <div class="invalid-feedback">Numéro de téléphone invalide.</div>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">Courriel :</label>
            <input type="email" class="form-control" id="email" name="email" required>
            <div class="invalid-feedback">Veuillez entrer un courriel valide.</div>
        </div>

        <div class="mb-3">
            <label for="payment" class="form-label">Mode de paiement :</label>
            <select class="form-select" id="payment" name="payment" required>
                <option value="">Choisir...</option>
                <option value="Carte de crédit">Carte de crédit</option>
                <option value="Espèces">Espèces</option>
                <option value="Interac">Interac</option>
            </select>
            <div class="invalid-feedback">Veuillez choisir un mode de paiement.</div>
        </div>

        <button type="submit" class="btn btn-primary">Confirmer la commande</button>
    </form>

    <!-- Script JS pour validation Bootstrap (optionnel, pour pop-ups plus jolis) -->
    <script>
        // Validation Bootstrap
        (function () {
            'use strict'
            var forms = document.querySelectorAll('.needs-validation')
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        if (!form.checkValidity()) {
                            event.preventDefault()
                            event.stopPropagation()
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
        })()
    </script>
</body>
</html>