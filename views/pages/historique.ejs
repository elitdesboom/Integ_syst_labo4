<!DOCTYPE html>
<!--
  @file accueil.ejs
  @author Elliot Wood
  @version 1.0
  @date 2025-09-02
  @brief Page d'historiques des transactions.
-->

<html>
<head>
    <%- include('../partials/head') %>
</head>
<body class="container">
    <header>
        <%- include('../partials/header') %>
    </header>

    <main>
        <h1>Historique des transactions</h1>

    <form method="get" action="/historique">
        <label for="phone">Numéro de téléphone :</label>
        <input type="text" id="phone" name="phone" value="<%= phone %>">
        <button type="submit">Rechercher</button>
    </form>

    <% if (history.length > 0) { %>
    <h2>Transactions pour <%= phone %></h2>
    <ul>
        <% history.forEach(transaction => { %>
            <li>
                Pizza: <%= transaction.pizzastyle %>, 
                Quantité: <%= transaction.quantite %>, 
                Taille: <%= transaction.taille %>, 
                Adresse: <%= transaction.adresse %>, 
                Mode de paiement: <%= transaction.modepaiement %>
            </li>
        <% }); %>
    </ul>
<% } else { %>
    <p>Aucune transaction trouvée pour ce numéro.</p>
<% } %>
    </main>

    <footer>
        <%- include('../partials/footer') %>
    </footer>
</body>
</html>